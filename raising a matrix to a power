n = int(input())
mx1 = [[int(i) for i in input().split()] for _ in range(n)]
mx2 = [row[:] for row in mx1]
m = int(input())

mx3 = [[0] * n for _ in range(n)]
for q in range(m-1):
    mx3 = [[0] * n for _ in range(n)]
    for i in range(n):
        for j in range(n):
            for r in range(n):
                mx3[i][j] += mx1[i][r] * mx2[r][j]
    mx1 = [row[:] for row in mx3]       
for i in range(n):
    for j in range(n):
        print(mx3[i][j], end=' ')
    print()
